# Findeck.io

To learn more before you start working with `findeck.io`, see the following
documentation available online:

## Development Overview

It's worth taking the time to review this documentation to get an overview of the core development tool used called DFX. 

- [Quick Start](https://internetcomputer.org/docs/current/developer-docs/setup/deploy-locally) to learn more about DFX `dfx`.
- [SDK Developer Tools](https://internetcomputer.org/docs/current/developer-docs/setup/install) to learn more about the DFX Version Manager `dfxvm`.

## Backend Development
- [Motoko Programming Language Guide](https://internetcomputer.org/docs/current/motoko/main/motoko) to learn more about language used on the backend.
- [Motoko Language Quick Reference](https://internetcomputer.org/docs/current/motoko/main/language-manual) as a quick reference for language basics. 

## Frontend Development
- [React Developer Documentation](https://react.dev/) is the core frontend technology being used on this project.
- [Vite](https://vitejs.dev/) is the specific implementation of React.
- [Vitest](https://vitest.dev/) is the testing framework used for the frontend.
- [Internet Identity Auth Client](https://forum.dfinity.org/t/new-package-dfinity-use-auth-client/33947) used to authenticate with the IC.

## Join the Conversation

The group building this project can be reached here on the [FindeckDao OpenChat](https://oc.app/community/vmoft-nqaaa-aaaar-bh3pa-cai/?ref=ex43p-lqaaa-aaaar-bal2q-cai). 

## System Dependencies for Development

### Node Version Manager

**NOTE:**
These notes assume MacOS as the development environment. If you want to develop on a different platform please share notes on how to do it for others here once you understand the process.

Please install node version manager.
```zsh
brew install nvm
```

Check to be sure nvm is installed correctly.
```zsh
nvm --version
```

You should see a value equal to or greater than `0.39.5`.

### NodeJS
Please install the latest stable version of NodeJS.

```zsh
nvm install stable
```

Check to be sure NodeJS is installed correctly.
```zsh
node --version
```

You should see a value equal to or greater than `v22.5.1`.

### Motoko Development Server

Please install motoko development server. Here are some docs related the [motoko development server](https://internetcomputer.org/blog/features/motoko-dev-server#continuous-integration).

```zsh
npm install -g mo-dev
```

## Running the project locally

### First Tab
From the root directory (should be findeck.io) start up the canister environment.
This environment is similar to a docker container (but is not docker).

```zsh
npm run dfx
```

Confirm this went correctly by checking the output. You should end up with something that looks like this. But the port number will likely be different.
```
npm run dfx

> dfx
> dfx start --clean --host 127.0.0.1:8000

Running dfx start for version 0.20.1
Using project-specific network 'local' defined in /Users/jfgrissom/Repos/findeck.io/dfx.json
Initialized replica.
Dashboard: http://localhost:52554/_/dashboard
```

Got to the dashboard (in the above example `http://localhost:52554/_/dashboard`) and you should see a webpage that looks like a basic dashboard.

### Second Tab
From the root directory deploy the containers.




Once the job completes, your application will be available at
`http://localhost:4943?canisterId={asset_canister_id}`.

If you have made changes to your backend canister, you can generate a new candid
interface with

```zsh
npm run generate
```

at any time. This is recommended before starting the frontend development
server, and will be run automatically any time you run `dfx deploy`.

If you are making frontend changes, you can start a development server with

```zsh
npm start
```

Which will start a server at `http://localhost:8080`, proxying API requests to
the replica at port 4943.

### Note on frontend environment variables

If you are hosting frontend code somewhere without using DFX, you may need to
make one of the following adjustments to ensure your project does not fetch the
root key in production:

- set`DFX_NETWORK` to `ic` if you are using Webpack
- use your own preferred method to replace `process.env.DFX_NETWORK` in the
  autogenerated declarations
  - Setting
    `canisters -> {asset_canister_id} -> declarations -> env_override to a string`
    in `dfx.json` will replace `process.env.DFX_NETWORK` with the string in the
    autogenerated declarations
- Write your own `createActor` constructor
